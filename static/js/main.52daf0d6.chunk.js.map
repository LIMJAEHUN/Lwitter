{"version":3,"sources":["components/Navigation.js","fbase.js","components/Lweet.js","components/LweetFactory.js","routes/Home.js","components/AuthForm.js","routes/Auth.js","routes/Profile.js","components/Router.js","components/App.js","index.js"],"names":["Navigation","_ref","userObj","react_default","a","createElement","react_router_dom","to","displayName","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","authService","getAuth","storage","getStorage","db","getFirestore","ref","Lweet","lweetObj","isOwner","_useState","useState","_useState2","Object","slicedToArray","editing","setEditing","_useState3","text","_useState4","newLweet","setNewLweet","desertRef","attachmentUrl","onDeleteClick","_ref2","asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","window","confirm","deleteDoc","doc","concat","id","deleteObject","stop","apply","this","arguments","toggleEditing","onSubmit","_ref3","_callee2","event","_context2","preventDefault","updateDoc","_x","Fragment","onChange","value","target","required","type","onClick","src","width","height","alt","LweetFactory","lweet","setLweet","attachment","setAttachment","LweetFactory_regeneratorRuntime","e","fileRef","response","uid","uuidv4","uploadString","sent","console","log","getDownloadURL","addDoc","collection","createdAt","Date","now","creatorID","placeholder","maxLength","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","Home","lweets","setLweets","useEffect","onSnapshot","snapshot","newArray","docs","map","document","objectSpread","data","components_LweetFactory","components_Lweet","key","AuthForm","email","setEmail","password","setPassword","_useState5","_useState6","newAccount","setNewAccount","_useState7","_useState8","error","setError","_event$target","name","AuthForm_regeneratorRuntime","createUserWithEmailAndPassword","signInWithEmailAndPassword","t0","message","Auth","onSocialClick","Auth_regeneratorRuntime","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","components_AuthForm","Profile","refreshUser","history","useHistory","newDisplayName","setNewDisplayName","getMyLweets","Profile_regeneratorRuntime","query","where","orderBy","getDocs","forEach","lweetObject","toConsumableArray","updateProfile","signOut","push","AppRouter","isLoggedIn","components_Navigation","react_router","exact","path","element","routes_Home","routes_Profile","expact","routes_Auth","App","init","setInit","setIsLoggedIn","setUserObj","onAuthStateChanged","user","App_regeneratorRuntime","updateCurrentUser","currentUser","Router","ReactDOM","createRoot","getElementById","render","components_App"],"mappings":"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","file":"static/js/main.52daf0d6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Navigation = ({userObj}) => {\r\n    return (\r\n        <nav>\r\n            <ul> \r\n                <li>\r\n                    <Link to = \"/\">Home</Link>\r\n                </li>\r\n                <li>\r\n                    <Link to = \"/profile\">{userObj.displayName}의 My Profile</Link>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navigation;","import { initializeApp } from \"firebase/app\";\r\nimport { getStorage, ref } from \"firebase/storage\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey:process.env.REACT_APP_API_KEY,\r\n    authDomain:process.env.REACT_APP_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_APP_ID\r\n  };\r\n\r\n  \r\n\r\n  const app = initializeApp(firebaseConfig); //eslint-disable-line no-unused-vars\r\n  export const authService = getAuth(app);\r\n  export const storage = getStorage(app)\r\n  export const db = getFirestore(app);\r\n  export const storageRef = ref(storage);\r\n ","import React from 'react';\r\nimport { db,storage } from \"fbase.js\";\r\nimport { doc, deleteDoc,  updateDoc } from \"firebase/firestore\";\r\nimport { deleteObject, ref } from \"firebase/storage\"\r\nimport { useState } from \"react\";\r\n\r\nconst Lweet = ({ lweetObj, isOwner }) => {\r\n    const [editing, setEditing] = useState(false);\r\n    const [newLweet, setNewLweet] = useState(lweetObj.text);\r\n\r\n    const desertRef = ref(storage, lweetObj.attachmentUrl);\r\n\r\n    const onDeleteClick = async () => {\r\n        const ok = window.confirm(\"삭제하시겠습니까?\");\r\n        \r\n        if (ok) {\r\n            \r\n            await deleteDoc(doc(db , `lweets/${lweetObj.id}`));\r\n            if (lweetObj.attachmentUrl !==\"\")\r\n            //await storage.refFromUrl(lweetObj.attachmentUrl).delete();\r\n            await deleteObject(desertRef);\r\n            \r\n            \r\n        }\r\n    };\r\n\r\n    const toggleEditing = () => setEditing((prev) => !prev);\r\n\r\n    const onChange = (event) => {\r\n        const{\r\n            target: { value },\r\n        } = event;\r\n        setNewLweet(value);\r\n    };\r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        await  updateDoc(doc(db, `lweets/${lweetObj.id}`), {text: newLweet});\r\n        setEditing(false);\r\n        //await db.doc(`lweets/${lweetObj.id}`).update({text: newLweet});\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            {editing ? (\r\n                <>\r\n                <form onSubmit={onSubmit}>\r\n                    <input onChange = {onChange} value={newLweet} required />\r\n                    <input type =\"submit\" value=\"Update Lweet\" />\r\n                </form>\r\n                <button onClick={toggleEditing}>Cancel</button>\r\n                </>\r\n\r\n            ):( \r\n                <>\r\n            <h4>{lweetObj.text}</h4>\r\n            {lweetObj.attachmentUrl && (\r\n                <img src = {lweetObj.attachmentUrl} width = \"50px\" height=\"50px\" alt=\"profile\"/>\r\n            )}\r\n           { isOwner && (\r\n                <>\r\n            <button onClick = {onDeleteClick}>Delete Lweet </button>\r\n            <button onClick = {toggleEditing}>Update Lweet </button>\r\n            </>\r\n            )}\r\n            </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Lweet;\r\n\r\n","import React from \"react\";\r\nimport { useState } from 'react';\r\nimport { db, storage } from \"fbase.js\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { uploadString, ref, getDownloadURL } from \"@firebase/storage\";\r\n\r\n\r\nconst LweetFactory = ({ userObj }) => {\r\n    const [ lweet, setLweet ] = useState(\"\");\r\n    const [ attachment, setAttachment] = useState(\"\");\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        let attachmentUrl = \"\";\r\n        if (attachment !== \"\"){\r\n        const fileRef = ref(storage, `${userObj.uid}/${uuidv4()}`);\r\n        const response = await uploadString(fileRef, attachment, 'data_url');\r\n        console.log(response);\r\n        attachmentUrl = await getDownloadURL(response.ref)\r\n        }\r\n        \r\n        await addDoc(collection(db, \"lweets\"), {\r\n        text: lweet,\r\n        createdAt: Date.now(),\r\n        creatorID: userObj.uid,\r\n        attachmentUrl,\r\n        });\r\n        \r\n        setLweet(\"\");\r\n        setAttachment(\"\");\r\n        };\r\n        const onChange = (event) => {\r\n            event.preventDefault();\r\n            const {\r\n                target: { value },\r\n            } = event;\r\n            setLweet(value);\r\n        };\r\n        const onFileChange = (event) => {\r\n            const {\r\n             target: { files },\r\n            } = event;\r\n            const theFile = files[0];\r\n            const reader = new FileReader();\r\n            reader.onloadend = (finishedEvent) => {\r\n             const {\r\n                 currentTarget: {result},\r\n             } = finishedEvent;\r\n             setAttachment(result);\r\n            }\r\n            reader.readAsDataURL(theFile);\r\n         };\r\n         const onClearAttachment = () => setAttachment(\"\");\r\n    return(\r\n        <form onSubmit={onSubmit}>\r\n        <input\r\n         value ={lweet}\r\n         onChange = {onChange}\r\n         type = \"text\"\r\n         placeholder=\"What's on your mind?\"\r\n         maxLength={120} />\r\n         <input type = \"file\" accept=\"image/*\" onChange={onFileChange}/>\r\n         <input type =\"submit\" value = \"Lweet\" />\r\n         {attachment && (\r\n         <div>\r\n         <img src={attachment} width=\"50px\" height={\"50px\"} alt=\"profile\"/>\r\n         <button onClick={onClearAttachment}>Clear</button>\r\n         </div>\r\n         )}\r\n         </form>\r\n    );\r\n\r\n};\r\n\r\nexport default LweetFactory;","import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { db } from \"fbase.js\";\r\nimport { collection, onSnapshot } from \"firebase/firestore\";\r\nimport Lweet from \"components/Lweet.js\";\r\nimport LweetFactory from 'components/LweetFactory.js';\r\n\r\n\r\nconst Home = ({userObj}) => {\r\n    \r\n   \r\n    const [ lweets, setLweets ] = useState([]);\r\n\r\n\r\n    // const getLweets = async() => {\r\n    //     const dbLweets = await getDocs(collection(db, \"lweets\"));\r\n    //     dbLweets.forEach((document) => {\r\n    //         const lweetObject = { ...document.data(), id: document.id };\r\n    //     setLweets((prev) => [lweetObject, ...prev])\r\n    // });\r\n    // }\r\n \r\n\r\n\r\n    useEffect(() => {\r\n        onSnapshot(collection(db,\"lweets\"), (snapshot) =>\r\n        {\r\n            const newArray = snapshot.docs.map((document) => ({\r\n                id: document.id,\r\n                ...document.data(),\r\n            }));\r\n            setLweets(newArray);\r\n        });\r\n     \r\n    }, []);\r\n\r\n \r\n    return (\r\n        <>\r\n    <LweetFactory userObj={userObj} />\r\n             <div>\r\n                {lweets.map((lweet) => (\r\n\r\n                    <Lweet \r\n                    key = { lweet.id} \r\n                    lweetObj={lweet} \r\n                    isOwner={lweet.creatorID === userObj.uid} \r\n                    />\r\n                    \r\n                ))}\r\n                \r\n             </div>\r\n             \r\n             </>\r\n    );\r\n};\r\nexport default Home;","import React, { useState } from \"react\";\r\nimport { authService } from 'fbase.js'; //firebaseInstance\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword} from \"firebase/auth\";\r\n\r\nconst AuthForm = () => {\r\n    const [email, setEmail ] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [newAccount, setNewAccount] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const onChange = (event) => {\r\n        const{\r\n            target: { name, value },\r\n        } = event;\r\n        if(name === \"email\" ){\r\n            setEmail(value);\r\n        }else if (name === \"password\"){\r\n            setPassword(value);\r\n        }\r\n    };\r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            let data;\r\n            if (newAccount){\r\n                //create newAccount\r\n            data = await createUserWithEmailAndPassword(authService, email, password);\r\n            } else {\r\n                //log in\r\n                data = await signInWithEmailAndPassword(authService, email, password);\r\n            }\r\n            console.log(data);\r\n\r\n        } catch (error) {\r\n             \r\n            setError(error.message);\r\n        }\r\n    };\r\n\r\n    const toggleAccount = () => setNewAccount((prev) => !prev);\r\n\r\n    return(\r\n        <>\r\n    \r\n    <form onSubmit = {onSubmit}>\r\n        <input name = \"email\" type = \"email\" placeholder='Email' value = {email} onChange={onChange} required />\r\n        <input name = \"password\" type = \"password\" placeholder='Password' value ={password} onChange={onChange} required />\r\n        <input type = \"submit\" value = {newAccount ? \"Create Account\" : \"Log in\"}/>\r\n        {error}\r\n    </form>\r\n    <span onClick={toggleAccount}>\r\n        {newAccount ? \"Sign in\" : \"Create Account\"}\r\n    </span>\r\n    </>\r\n    );\r\n\r\n\r\n   \r\n};\r\nexport default AuthForm;","import React from 'react';\r\nimport { authService } from 'fbase.js'; //firebaseInstance\r\nimport AuthForm from \"components/AuthForm\";\r\n\r\nimport {signInWithPopup,GoogleAuthProvider, GithubAuthProvider,} from \"firebase/auth\"; //v9버전에서는 사용이 변경됨\r\n//import { createUserWithEmailAndPassword,signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\n\r\n\r\nconst Auth = () => {\r\n    const onSocialClick = async(event) => {\r\n        const{\r\n            target: { name },\r\n        } = event;\r\n        let provider;\r\n        if (name === \"google\"){\r\n            provider = new GoogleAuthProvider();\r\n            //provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n        } else if (name === \"github\"){\r\n            //provider = new firebaseInstance.auth.GithubAuthProvider();\r\n            provider = new GithubAuthProvider();\r\n        }\r\n        //const data = await authService.signInWithPopup(provider); v8버전\r\n        const data = await signInWithPopup(authService, provider); //eslint-disable-line no-unused-vars\r\n        \r\n       \r\n    }\r\n    return (\r\n        <div>\r\n         <AuthForm />\r\n            <div>\r\n                <button onClick = {onSocialClick} name = \"google\"> with Google</button>\r\n                <button onClick = {onSocialClick} name = \"github\"> with Github</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Auth; ","import React from 'react';\r\nimport {  useState, useEffect } from 'react';\r\nimport { authService, db } from 'fbase.js';\r\nimport { useHistory } from \"react-router-dom\"; //useHistory를 이용한 로그아웃\r\nimport { updateProfile } from \"@firebase/auth\";\r\nimport { collection, query, orderBy,getDocs, where } from \"firebase/firestore\";\r\nimport Lweet from \"components/Lweet.js\";\r\n\r\n\r\nconst Profile = ({refreshUser , userObj }) => {\r\n\r\n    const history = useHistory();\r\n    const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n    const [ lweets, setLweets ] = useState([]);\r\n    \r\n     \r\n    const onLogOutClick = () =>{ \r\n        authService.signOut();\r\n        history.push(\"/\");\r\n    };\r\n\r\n    const onChange = (event) => {\r\n        const{\r\n            target: {value},\r\n        } = event;\r\n        setNewDisplayName(value);\r\n    };\r\n      // const getLweets = async() => {\r\n    //     const dbLweets = await getDocs(collection(db, \"lweets\"));\r\n    //     dbLweets.forEach((document) => {\r\n    //         const lweetObject = { ...document.data(), id: document.id };\r\n    //     setLweets((prev) => [lweetObject, ...prev])\r\n    // });\r\n    // }\r\n    const getMyLweets = async() => {\r\n       const lweets = query(collection(db,\"lweets\"),where(\"creatorID\", \"==\", userObj.uid),orderBy(\"createdAt\", \"desc\"));\r\n        \r\n      const querySnapshot = await getDocs(lweets);\r\n      querySnapshot.forEach((doc) => {\r\n      const lweetObject = { ...doc.data(), id: doc.id };\r\n      setLweets((prev) => [lweetObject, ...prev])\r\n    \r\n        \r\n    });\r\n      //console.log(doc.id, \"=>\", doc.data());\r\n    };\r\n\r\n    useEffect(() => {\r\n        getMyLweets();\r\n    }, []);\r\n    \r\n\r\n\r\n    const onSubmit = async(event) => {\r\n        event.preventDefault();\r\n        if (userObj.displayName !== newDisplayName)\r\n        {\r\n            await updateProfile(userObj,{ displayName: newDisplayName });\r\n            refreshUser();\r\n        }\r\n        \r\n    };\r\n    return (\r\n        <>\r\n        <form onSubmit={onSubmit}>\r\n            <input onChange={onChange} type=\"text\" placeholder= \"Display name\" value = {newDisplayName} />\r\n            <input type = \"submit\" value=\"update Profile\" />\r\n        </form>\r\n        <button onClick={onLogOutClick}>Log Out </button>\r\n       \r\n        {lweets.map((lweetObject) => (\r\n            <Lweet\r\n             key = { lweetObject.id}\r\n            lweetObj={lweetObject}\r\n            isOwner={lweetObject.creatorID === userObj.uid} \r\n            />\r\n            \r\n        ))}\r\n        \r\n       \r\n        \r\n        </>\r\n    );\r\n};\r\nexport default Profile;","// import { useState } from \"react\";\r\nimport React from 'react';\r\nimport { HashRouter as Router,  Route, Switch } from \"react-router-dom\";\r\n//import { HashRouter as Router, Redirect, Route, Switch } from \"react-router-dom\"; 리다이엑트를 이용한 로그아웃\r\n\r\nimport Navigation from './Navigation.js';\r\nimport Home from \"routes/Home.js\";\r\nimport Auth from \"routes/Auth.js\";\r\nimport Profile from \"routes/Profile.js\";\r\n\r\nconst AppRouter = ({ refreshUser, isLoggedIn, userObj }) => {\r\n   \r\n    return (\r\n        <Router>\r\n            {isLoggedIn && <Navigation userObj ={userObj} />}\r\n            <Switch>\r\n                {isLoggedIn ? ( \r\n                    <> \r\n                    <Route exact path=\"/\"  element={<Home />}>\r\n                        <Home userObj={userObj}/>\r\n                    </Route>\r\n                    <Route exact path = \"/profile\">\r\n                        <Profile refreshUser={refreshUser} userObj = {userObj}/>\r\n                    </Route>\r\n                    </>\r\n                    ) : (\r\n                        <Route expact = \"/\" element={<Auth />}>\r\n                            <Auth />\r\n                        </Route>\r\n                    )\r\n                }\r\n                {/* //<Redirect from = \"*\" to = \"/\" />  리다이엑트를 이용한 로그아웃*/}\r\n            </Switch>\r\n\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default AppRouter;","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport AppRouter from \"components/Router.js\";\nimport { authService } from \"fbase.js\";\nimport {\n\n  updateCurrentUser,\n\n} from \"firebase/auth\";\n\nfunction App() {\n  const [ init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userObj, setUserObj ] =useState(null);\n  useEffect (() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setIsLoggedIn(user);\n        setUserObj(user);\n      } else{\n        setIsLoggedIn(false);\n      }\n      setInit(true);\n    });\n  } ,[]);\n  //setInterval(() => console.log(authService.currentUser), 2000);\n  //console.log(authService.currentUser);\n\n  const refreshUser = async() =>{\n    await updateCurrentUser(authService, authService.currentUser);\n    setUserObj(authService.currentUser);\n\n  };\n\n  return (\n    <>\n      { init ? <AppRouter refreshUser={refreshUser} isLoggedIn = {isLoggedIn } userObj={userObj}/> : \"initializing...\"}\n      {/* //<footer>&copy; {new Date().getFullYear()} Lwitter </footer> */}\n    </>\n  );\n  \n  \n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from 'components/App.js';\r\n\r\n//const root = ReactDOM.createRoot(document.getElementById('root'));\r\n// ReactDOM.render(\r\n//   <React.StrictMode>\r\n//     <App />\r\n//   </React.StrictMode>,\r\n//   document.getElementById(\"root\"),\r\n// );\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(<App />);\r\n"],"sourceRoot":""}